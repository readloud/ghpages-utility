# markdownlint-rule-github-internal-links

Custom [markdownlint](https://github.com/DavidAnson/markdownlint) rule for
checking internal links like those generated by Github's Markdown processor.
Specifically, this rule checks that internal links (of the form `#anchor`)
match the anchors generated by
[this anchor generation code](https://github.com/jch/html-pipeline/blob/master/lib/html/pipeline/toc_filter.rb),
or manually inserted anchors via `name` or `id` attributes.

For example, in [this README.md](README.md),
[the link `#configuration`](#configuration) will not report an error,
while [the link `#config`](#config) will.
In addition, the links [`#enable-rule`](#enable-rule) and
[`#add-package`](#add-package) will match the manually inserted anchors
below, while [the link `#add-rule`](#add-rule) will report an error.

## Usage

<!-- markdownlint-disable no-inline-html -->

1. <span id="add-package">Add this package to your project:

   ```sh
   npm install -D markdownlint-rule-github-internal-links
   ```

2. <a name="enable-rule">Enable the rule</a>:

   * If you're using
     [markdownlint-cli](https://github.com/igorshubovych/markdownlint-cli),
     add a command-line argument to import the rule:

     ```sh
     markdownlint ... --rules markdownlint-rule-github-internal-links
     ```

     See the `test:cli` script in [this `package.json`](package.json).

   * If you're using
     [markdownlint-cli2](https://github.com/DavidAnson/markdownlint-cli2),
     add a `customRules` element to your `.markdownlint-cli2.jsonc`:

     ```sh
     "customRules": [
       "markdownlint-rule-github-internal-links"
     ]
     ```

     See the [sample .markdownlint-cli2.jsonc](.markdownlint-cli2.jsonc)
     (which also turns on [verbose mode](#configuration), which you probably
     don't want),
     and the `test:cli2` script in [this `package.json`](package.json).

## Configuration

You can pass in a setting of `verbose: true` to make this plugin display
every anchor link it computes and every link it tests.  This can be useful
for debugging your anchor links, when it's hard to guess how many `-`s to add.
See [sample .markdownlint.yaml](.markdownlint.yaml) (for cli or cli2)
and [sample .markdownlint-cli2.jsonc](.markdownlint-cli2.jsonc) (for cli2).

## <span></span> More **Complex** Example

A more complex example is the header above, which produces
[the link `#-more-complex-example`](#-more-complex-example).
